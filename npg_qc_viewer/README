Running your own development server:
------------------------------------

unset CATALYST_HOME
export PATH=/software/perl-5.16.3/bin:$PATH
export PERL5LIB=lib:/software/npg/lib/perl5:/software/npg/cpan/lib/perl5

make sure you have installed dependencies with bower

# in the npg_qc_viewer directory
pushd root/static && bower install && popd

# If you are including a working copy of bcviz (not yet official release) use bower to configure the linking

  - In bcviz

    $ bower link

  - In npg_qc

    $ pushd root/static && bower link bcviz && popd

If needed, edit the decryption_key value in npg_qc_viewer.conf

# in the npg_qc_viewer directory
perl bin/npg_qc_viewer_server.pl -p YOUR_PORT

CATALYST_DEBUG=1 to enable debugging

CATALYST_AUTOCRUD=1 to enable the autocrud plugin

autocrud pages - npg tracking:
read-only: autocrud/npgdb
admin:     autocrud/site/admin/schema/npgdb

Building and testing:
---------------------

unset CATALYST_HOME
export PATH=/software/perl-5.16.3/bin:$PATH
export PERL5LIB=/software/npg/lib/perl5:/software/npg/cpan/lib/perl5
# in the npg_qc_viewer directory
perl Build.PL
CATALYST_DEBUG=0 TEST_AUTHOR=1 ./Build test
or
CATALYST_DEBUG=0  TEST_AUTHOR=1 prove -vl t

Testing Javascript for npg_qc_viewer
------------------------------------

Headless testing:

# in the npg_qc_viewer directory
Install node package dependencies if they are not available.
 - npm install -g bower
 - npm install -g node-qunit-phantomjs

Install bower dependencies following the steps described in the first section.

pushd root/static && node-qunit-phantomjs test/test.html --verbose && popd

Testing in browser:

Open file npg_qc_viewer/root/static/test/test.html in a browser window.
